{"ast":null,"code":"/*!\n * @vueblocks/vue-use-axios v0.2.10\n * (c) 2021 xiaoluoboding\n * @license MIT\n */\nimport { reactive, toRefs } from 'vue-demi';\nimport axios from 'axios';\nimport debounce from 'lodash.debounce';\nimport throttle from 'lodash.throttle';\nconst state = reactive({\n  response: null,\n  data: undefined,\n  finished: false,\n  canceled: false,\n  error: null\n});\nconst request = (url, config, options) => {\n  axios(url, config).then(r => {\n    state.response = r;\n    state.data = r.data;\n    state.finished = true;\n  }).catch(e => {\n    state.error = e;\n    state.finished = true;\n  });\n};\nconst useAxios = (url, config, options) => {\n  // handle cancel request\n  const cancelToken = axios.CancelToken.source();\n  const cancel = message => {\n    cancelToken.cancel(message);\n    state.canceled = true;\n  };\n  let axiosConfig = {\n    ...config,\n    cancelToken: cancelToken.token\n  };\n  let refetch;\n  if (options && options.debounce && options.debounce > 0) {\n    refetch = debounce(() => request(url, axiosConfig), options.debounce);\n  } else if (options && options.throttle && options.throttle > 0) {\n    refetch = throttle(() => request(url, axiosConfig), options.throttle);\n  } else {\n    refetch = () => request(url, axiosConfig);\n  }\n  refetch();\n  return {\n    ...toRefs(state),\n    refetch,\n    cancel\n  };\n};\nexport { useAxios };","map":{"version":3,"names":["reactive","toRefs","axios","debounce","throttle","state","response","data","undefined","finished","canceled","error","request","url","config","options","then","r","catch","e","useAxios","cancelToken","CancelToken","source","cancel","message","axiosConfig","token","refetch"],"sources":["/Users/khaled.el-moussa/Desktop/Projekter/Kal2/frontend/node_modules/@vueblocks/vue-use-axios/lib/index.esm.js"],"sourcesContent":["/*!\n * @vueblocks/vue-use-axios v0.2.10\n * (c) 2021 xiaoluoboding\n * @license MIT\n */\nimport { reactive, toRefs } from 'vue-demi';\nimport axios from 'axios';\nimport debounce from 'lodash.debounce';\nimport throttle from 'lodash.throttle';\n\nconst state = reactive({\r\n    response: null,\r\n    data: undefined,\r\n    finished: false,\r\n    canceled: false,\r\n    error: null\r\n});\r\nconst request = (url, config, options) => {\r\n    axios(url, config)\r\n        .then((r) => {\r\n        state.response = r;\r\n        state.data = r.data;\r\n        state.finished = true;\r\n    })\r\n        .catch((e) => {\r\n        state.error = e;\r\n        state.finished = true;\r\n    });\r\n};\r\nconst useAxios = (url, config, options) => {\r\n    // handle cancel request\r\n    const cancelToken = axios.CancelToken.source();\r\n    const cancel = (message) => {\r\n        cancelToken.cancel(message);\r\n        state.canceled = true;\r\n    };\r\n    let axiosConfig = {\r\n        ...config,\r\n        cancelToken: cancelToken.token\r\n    };\r\n    let refetch;\r\n    if (options && options.debounce && options.debounce > 0) {\r\n        refetch = debounce(() => request(url, axiosConfig), options.debounce);\r\n    }\r\n    else if (options && options.throttle && options.throttle > 0) {\r\n        refetch = throttle(() => request(url, axiosConfig), options.throttle);\r\n    }\r\n    else {\r\n        refetch = () => request(url, axiosConfig);\r\n    }\r\n    refetch();\r\n    return {\r\n        ...toRefs(state),\r\n        refetch,\r\n        cancel\r\n    };\r\n};\n\nexport { useAxios };\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,SAASA,QAAQ,EAAEC,MAAM,QAAQ,UAAU;AAC3C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,iBAAiB;AACtC,OAAOC,QAAQ,MAAM,iBAAiB;AAEtC,MAAMC,KAAK,GAAGL,QAAQ,CAAC;EACnBM,QAAQ,EAAE,IAAI;EACdC,IAAI,EAAEC,SAAS;EACfC,QAAQ,EAAE,KAAK;EACfC,QAAQ,EAAE,KAAK;EACfC,KAAK,EAAE;AACX,CAAC,CAAC;AACF,MAAMC,OAAO,GAAG,CAACC,GAAG,EAAEC,MAAM,EAAEC,OAAO,KAAK;EACtCb,KAAK,CAACW,GAAG,EAAEC,MAAM,CAAC,CACbE,IAAI,CAAEC,CAAC,IAAK;IACbZ,KAAK,CAACC,QAAQ,GAAGW,CAAC;IAClBZ,KAAK,CAACE,IAAI,GAAGU,CAAC,CAACV,IAAI;IACnBF,KAAK,CAACI,QAAQ,GAAG,IAAI;EACzB,CAAC,CAAC,CACGS,KAAK,CAAEC,CAAC,IAAK;IACdd,KAAK,CAACM,KAAK,GAAGQ,CAAC;IACfd,KAAK,CAACI,QAAQ,GAAG,IAAI;EACzB,CAAC,CAAC;AACN,CAAC;AACD,MAAMW,QAAQ,GAAG,CAACP,GAAG,EAAEC,MAAM,EAAEC,OAAO,KAAK;EACvC;EACA,MAAMM,WAAW,GAAGnB,KAAK,CAACoB,WAAW,CAACC,MAAM,EAAE;EAC9C,MAAMC,MAAM,GAAIC,OAAO,IAAK;IACxBJ,WAAW,CAACG,MAAM,CAACC,OAAO,CAAC;IAC3BpB,KAAK,CAACK,QAAQ,GAAG,IAAI;EACzB,CAAC;EACD,IAAIgB,WAAW,GAAG;IACd,GAAGZ,MAAM;IACTO,WAAW,EAAEA,WAAW,CAACM;EAC7B,CAAC;EACD,IAAIC,OAAO;EACX,IAAIb,OAAO,IAAIA,OAAO,CAACZ,QAAQ,IAAIY,OAAO,CAACZ,QAAQ,GAAG,CAAC,EAAE;IACrDyB,OAAO,GAAGzB,QAAQ,CAAC,MAAMS,OAAO,CAACC,GAAG,EAAEa,WAAW,CAAC,EAAEX,OAAO,CAACZ,QAAQ,CAAC;EACzE,CAAC,MACI,IAAIY,OAAO,IAAIA,OAAO,CAACX,QAAQ,IAAIW,OAAO,CAACX,QAAQ,GAAG,CAAC,EAAE;IAC1DwB,OAAO,GAAGxB,QAAQ,CAAC,MAAMQ,OAAO,CAACC,GAAG,EAAEa,WAAW,CAAC,EAAEX,OAAO,CAACX,QAAQ,CAAC;EACzE,CAAC,MACI;IACDwB,OAAO,GAAG,MAAMhB,OAAO,CAACC,GAAG,EAAEa,WAAW,CAAC;EAC7C;EACAE,OAAO,EAAE;EACT,OAAO;IACH,GAAG3B,MAAM,CAACI,KAAK,CAAC;IAChBuB,OAAO;IACPJ;EACJ,CAAC;AACL,CAAC;AAED,SAASJ,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}