{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive, ref } from 'vue';\nimport { VueCookieNext as $cookie } from \"vue-cookie-next\";\nimport { forEach } from \"core-js/stable/dom-collections\";\nexport const cart = reactive({\n  // If there is localStorage, set them as value or empty array\n  products: ref(JSON.parse(localStorage.getItem('cart')) !== null ? JSON.parse(localStorage.getItem('cart')) : []),\n  addProduct(product, number) {\n    // Determine whatever the product is already on the cart\n    const isNewProduct = ref(true);\n\n    // Create the new product with number\n    product.number = number;\n\n    // Check if the product already exists on the cart\n    this.products.map(function (value, index) {\n      if (value.productNumber === product.productNumber) {\n        // @TODO DOES NOT UPDATE AFTER 2, TAKE A LOOK\n        value.number = value.number + product.number;\n        isNewProduct.value = false;\n      }\n    });\n\n    // If the products does not exists, push it to the storage\n    if (isNewProduct.value === true) {\n      this.products.push(product);\n      localStorage.setItem('cart', JSON.stringify(this.products));\n    } else {\n      localStorage.removeItem('cart');\n      localStorage.setItem('cart', JSON.stringify(this.products));\n    }\n  },\n  getProducts() {\n    return JSON.parse(localStorage.getItem('cart'));\n  }\n});","map":{"version":3,"names":["reactive","ref","VueCookieNext","$cookie","forEach","cart","products","JSON","parse","localStorage","getItem","addProduct","product","number","isNewProduct","map","value","index","productNumber","push","setItem","stringify","removeItem","getProducts"],"sources":["/Users/khaled.el-moussa/Desktop/Projekter/Kal2/frontend/src/store/cart.js"],"sourcesContent":["import { reactive, ref } from 'vue'\nimport { VueCookieNext as $cookie } from \"vue-cookie-next\";\nimport { forEach } from \"core-js/stable/dom-collections\";\n\n\nexport const cart = reactive({\n  // If there is localStorage, set them as value or empty array\n  products: ref(JSON.parse(localStorage.getItem('cart')) !== null ? JSON.parse(localStorage.getItem('cart')) : []),\n\n  addProduct(product, number) {\n    // Determine whatever the product is already on the cart\n    const isNewProduct = ref(true);\n\n    // Create the new product with number\n    product.number = number;\n\n    // Check if the product already exists on the cart\n    this.products.map(function(value, index) {\n      if (value.productNumber === product.productNumber) {\n        // @TODO DOES NOT UPDATE AFTER 2, TAKE A LOOK\n        value.number = value.number + product.number;\n        isNewProduct.value = false;\n      }\n    });\n\n    // If the products does not exists, push it to the storage\n    if (isNewProduct.value === true) {\n      this.products.push(product);\n      localStorage.setItem('cart', JSON.stringify(this.products));\n    } else {\n      localStorage.removeItem('cart');\n      localStorage.setItem('cart', JSON.stringify(this.products));\n    }\n  },\n  getProducts() {\n    return JSON.parse(localStorage.getItem('cart'));\n  }\n})"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,GAAG,QAAQ,KAAK;AACnC,SAASC,aAAa,IAAIC,OAAO,QAAQ,iBAAiB;AAC1D,SAASC,OAAO,QAAQ,gCAAgC;AAGxD,OAAO,MAAMC,IAAI,GAAGL,QAAQ,CAAC;EAC3B;EACAM,QAAQ,EAAEL,GAAG,CAACM,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,IAAI,GAAGH,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC;EAEhHC,UAAU,CAACC,OAAO,EAAEC,MAAM,EAAE;IAC1B;IACA,MAAMC,YAAY,GAAGb,GAAG,CAAC,IAAI,CAAC;;IAE9B;IACAW,OAAO,CAACC,MAAM,GAAGA,MAAM;;IAEvB;IACA,IAAI,CAACP,QAAQ,CAACS,GAAG,CAAC,UAASC,KAAK,EAAEC,KAAK,EAAE;MACvC,IAAID,KAAK,CAACE,aAAa,KAAKN,OAAO,CAACM,aAAa,EAAE;QACjD;QACAF,KAAK,CAACH,MAAM,GAAGG,KAAK,CAACH,MAAM,GAAGD,OAAO,CAACC,MAAM;QAC5CC,YAAY,CAACE,KAAK,GAAG,KAAK;MAC5B;IACF,CAAC,CAAC;;IAEF;IACA,IAAIF,YAAY,CAACE,KAAK,KAAK,IAAI,EAAE;MAC/B,IAAI,CAACV,QAAQ,CAACa,IAAI,CAACP,OAAO,CAAC;MAC3BH,YAAY,CAACW,OAAO,CAAC,MAAM,EAAEb,IAAI,CAACc,SAAS,CAAC,IAAI,CAACf,QAAQ,CAAC,CAAC;IAC7D,CAAC,MAAM;MACLG,YAAY,CAACa,UAAU,CAAC,MAAM,CAAC;MAC/Bb,YAAY,CAACW,OAAO,CAAC,MAAM,EAAEb,IAAI,CAACc,SAAS,CAAC,IAAI,CAACf,QAAQ,CAAC,CAAC;IAC7D;EACF,CAAC;EACDiB,WAAW,GAAG;IACZ,OAAOhB,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACjD;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}