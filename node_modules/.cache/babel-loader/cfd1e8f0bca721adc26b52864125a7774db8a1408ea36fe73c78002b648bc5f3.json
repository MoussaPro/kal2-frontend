{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineStore } from 'pinia';\nimport axios from \"axios\";\nimport router from \"@/router\";\nexport const Auth = defineStore('auth', {\n  state: () => {\n    return {\n      // initialize state from local storage to enable user to stay logged in\n      user: JSON.parse(localStorage.getItem('user')),\n      token: localStorage.getItem('token'),\n      returnUrl: null\n    };\n  },\n  actions: {\n    login(token, user) {\n      window.localStorage.setItem('token', token);\n      window.localStorage.setItem('user', JSON.stringify(user));\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n      this.token = token;\n      this.user = user;\n    },\n    logout() {\n      window.localStorage.removeItem('token');\n      window.localStorage.removeItem('user');\n      this.user = null;\n      router.push('/login');\n    },\n    check() {\n      return !!this.token;\n    }\n  }\n});","map":{"version":3,"names":["defineStore","axios","router","Auth","state","user","JSON","parse","localStorage","getItem","token","returnUrl","actions","login","window","setItem","stringify","defaults","headers","common","logout","removeItem","push","check"],"sources":["/Users/khaled.el-moussa/Desktop/Projekter/Kal2/frontend/src/store/auth.js"],"sourcesContent":["import { defineStore } from 'pinia';\nimport axios from \"axios\";\nimport router from \"@/router\";\n\nexport const Auth = defineStore('auth', {\n  state: () => {\n    return {\n      // initialize state from local storage to enable user to stay logged in\n      user: JSON.parse(localStorage.getItem('user')),\n      token: localStorage.getItem('token'),\n      returnUrl: null\n    }\n  },\n  actions: {\n    login(token, user) {\n      window.localStorage.setItem('token', token);\n      window.localStorage.setItem('user', JSON.stringify(user));\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n      this.token = token;\n      this.user = user;\n    },\n    logout() {\n      window.localStorage.removeItem('token');\n      window.localStorage.removeItem('user');\n      this.user = null;\n      router.push('/login');\n    },\n    check() {\n      return !!this.token;\n    }\n  }\n});"],"mappings":";AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,UAAU;AAE7B,OAAO,MAAMC,IAAI,GAAGH,WAAW,CAAC,MAAM,EAAE;EACtCI,KAAK,EAAE,MAAM;IACX,OAAO;MACL;MACAC,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;MAC9CC,KAAK,EAAEF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MACpCE,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,KAAK,CAACH,KAAK,EAAEL,IAAI,EAAE;MACjBS,MAAM,CAACN,YAAY,CAACO,OAAO,CAAC,OAAO,EAAEL,KAAK,CAAC;MAC3CI,MAAM,CAACN,YAAY,CAACO,OAAO,CAAC,MAAM,EAAET,IAAI,CAACU,SAAS,CAACX,IAAI,CAAC,CAAC;MACzDJ,KAAK,CAACgB,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAG,SAAS,GAAGT,KAAK;MAClE,IAAI,CAACA,KAAK,GAAGA,KAAK;MAClB,IAAI,CAACL,IAAI,GAAGA,IAAI;IAClB,CAAC;IACDe,MAAM,GAAG;MACPN,MAAM,CAACN,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC;MACvCP,MAAM,CAACN,YAAY,CAACa,UAAU,CAAC,MAAM,CAAC;MACtC,IAAI,CAAChB,IAAI,GAAG,IAAI;MAChBH,MAAM,CAACoB,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IACDC,KAAK,GAAG;MACN,OAAO,CAAC,CAAC,IAAI,CAACb,KAAK;IACrB;EACF;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}