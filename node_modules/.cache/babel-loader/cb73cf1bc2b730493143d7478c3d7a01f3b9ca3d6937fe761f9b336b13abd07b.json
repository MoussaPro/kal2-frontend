{"ast":null,"code":"import Auth from \"@/models/Auth\";\nimport axios from \"axios\";\nexport default ((to, from, next) => {\n  console.log('t');\n  axios.get('validate-token').then(response => {\n    if (response.status === 200) {\n      next();\n    }\n  }).catch(error => {\n    // There was an error so redirect\n    window.location.href = '/login';\n    localStorage.removeItem('userInfo');\n    localStorage.removeItem('accessToken');\n  });\n  next();\n\n  /*\n  if( !Auth.check() ) {\n    next({ name: 'login' });\n  }\n  */\n});","map":{"version":3,"names":["Auth","axios","to","from","next","console","log","get","then","response","status","catch","error","window","location","href","localStorage","removeItem"],"sources":["/Users/khaled.el-moussa/Desktop/Projekter/Kal2/frontend/src/middleware/auth.js"],"sourcesContent":["import Auth from \"@/models/Auth\";\nimport axios from \"axios\";\n\nexport default (to, from, next) => {\n  console.log('t');\n  axios.get('validate-token').then(response => {\n    if (response.status === 200) {\n      next()\n    }\n  }).catch(error => {\n    // There was an error so redirect\n    window.location.href = '/login'\n    localStorage.removeItem('userInfo')\n    localStorage.removeItem('accessToken')\n  })\n  next()\n\n  /*\n  if( !Auth.check() ) {\n    next({ name: 'login' });\n  }\n  */\n}"],"mappings":"AAAA,OAAOA,IAAI,MAAM,eAAe;AAChC,OAAOC,KAAK,MAAM,OAAO;AAEzB,gBAAe,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACjCC,OAAO,CAACC,GAAG,CAAC,GAAG,CAAC;EAChBL,KAAK,CAACM,GAAG,CAAC,gBAAgB,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAI;IAC3C,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MAC3BN,IAAI,EAAE;IACR;EACF,CAAC,CAAC,CAACO,KAAK,CAACC,KAAK,IAAI;IAChB;IACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;IAC/BC,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;IACnCD,YAAY,CAACC,UAAU,CAAC,aAAa,CAAC;EACxC,CAAC,CAAC;EACFb,IAAI,EAAE;;EAEN;AACF;AACA;AACA;AACA;AACA,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}