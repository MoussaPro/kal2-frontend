{"ast":null,"code":"import Auth from \"@/models/Auth\";\nimport axios from \"axios\";\nexport default ((to, from, next) => {\n  if (!Auth.check()) {\n    return next({\n      name: 'login'\n    });\n  }\n  axios.get('validate-token').catch(error => {\n    if (error.response.status === 401) {\n      window.localStorage.removeItem('token');\n      window.localStorage.removeItem('user');\n      return next({\n        name: 'login'\n      });\n    }\n  });\n});","map":{"version":3,"names":["Auth","axios","to","from","next","check","name","get","catch","error","response","status","window","localStorage","removeItem"],"sources":["/Users/khaled.el-moussa/Desktop/Projekter/Kal2/frontend/src/middleware/auth.js"],"sourcesContent":["import Auth from \"@/models/Auth\";\nimport axios from \"axios\";\n\nexport default (to, from, next) => {\n  if (!Auth.check()) {\n    return next({ name: 'login' });\n  }\n\n  axios.get('validate-token').catch(error => {\n    if (error.response.status === 401) {\n      window.localStorage.removeItem('token');\n      window.localStorage.removeItem('user');\n      return next({ name: 'login' })\n    }\n  })\n}"],"mappings":"AAAA,OAAOA,IAAI,MAAM,eAAe;AAChC,OAAOC,KAAK,MAAM,OAAO;AAEzB,gBAAe,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACjC,IAAI,CAACJ,IAAI,CAACK,KAAK,EAAE,EAAE;IACjB,OAAOD,IAAI,CAAC;MAAEE,IAAI,EAAE;IAAQ,CAAC,CAAC;EAChC;EAEAL,KAAK,CAACM,GAAG,CAAC,gBAAgB,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;IACzC,IAAIA,KAAK,CAACC,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MACjCC,MAAM,CAACC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;MACvCF,MAAM,CAACC,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;MACtC,OAAOV,IAAI,CAAC;QAAEE,IAAI,EAAE;MAAQ,CAAC,CAAC;IAChC;EACF,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}