{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelCheckbox as _vModelCheckbox, withCtx as _withCtx, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"auth-content pb-20\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  class: \"p-10\"\n};\nconst _hoisted_4 = {\n  class: \"mt-6\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  \"stroke-width\": \"2\",\n  stroke: \"currentColor\",\n  class: \"w-5 mr-[1px]\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\",\n  d: \"M12 6v12m6-6H6\"\n})], -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"w-full bg-gray-50 px-10 py-4 rounded-md\"\n};\nconst _hoisted_7 = {\n  class: \"flex items-center\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"primary\",\n  class: \"cursor-pointer text-gray-600 mt-[1px] ml-2\"\n}, \" Sæt som primære\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ApiLoader = _resolveComponent(\"ApiLoader\");\n  const _component_BlockTitle = _resolveComponent(\"BlockTitle\");\n  const _component_CreateField = _resolveComponent(\"CreateField\");\n  const _component_Block = _resolveComponent(\"Block\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_ApiLoader, {\n    error: $setup.error,\n    loading: $setup.loading,\n    class: \"mt-5\"\n  }, null, 8 /* PROPS */, [\"error\", \"loading\"]), !$setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_Block, {\n    class: \"mt-5\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_BlockTitle, {\n      title: \"Rediger skabelon\",\n      class: \"mb-5\"\n    }), _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"title\",\n      name: \"title\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.field.title = $event),\n      class: \"input-field-non-border\",\n      placeholder: \"Navngiv skabelonen\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.field.title]]), _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.field.fields, (field, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        class: \"mt-5\",\n        key: field.id\n      }, [_createTextVNode(_toDisplayString(field) + \" \", 1 /* TEXT */), _createVNode(_component_CreateField, {\n        type: field.type,\n        index: index,\n        id: field.id,\n        title: field.title,\n        value: field.value,\n        onChanges: n => _ctx.setFields(n, index),\n        onDelete: $event => $setup.deleteField(field.fields)\n      }, null, 8 /* PROPS */, [\"type\", \"index\", \"id\", \"title\", \"value\", \"onChanges\", \"onDelete\"])]);\n    }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"div\", {\n      class: \"text-primary-Darker1 tracking-[0.45px] mt-2 ml-[2px] font-inter font-medium text-[13px] inline-flex border-b border-primary-Darker1 items-center cursor-pointer hover-transition hover:opacity-75\",\n      onClick: _cache[1] || (_cache[1] = $event => $setup.addField($setup.field.fields))\n    }, [_hoisted_5, _createTextVNode(\" Tilføj ny felt \")])])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      id: \"primary\",\n      name: \"primary\",\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.field.is_primary = $event)\n    }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $setup.field.is_primary]]), _hoisted_8]), _createElementVNode(\"button\", {\n      class: \"bg-primary px-5 py-2 text-white rounded-md text-sm font-medium hover-transition mt-5 hover:bg-primary-Darker active:bg-primary-Darker1\",\n      onClick: _cache[3] || (_cache[3] = (...args) => _ctx.save && _ctx.save(...args))\n    }, \"Gem skabelon\")])]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;AAAoB;;;;;EAKpBA,KAAK,EAAC;AAAM;;EAIVA,KAAK,EAAC;AAAM;gCAObC,oBAEM;EAFDC,KAAK,EAAC,4BAA4B;EAACC,IAAI,EAAC,MAAM;EAACC,OAAO,EAAC,WAAW;EAAC,cAAY,EAAC,GAAG;EAACC,MAAM,EAAC,cAAc;EAACL,KAAK,EAAC;iBACnHC,oBAA0E;EAApE,gBAAc,EAAC,OAAO;EAAC,iBAAe,EAAC,OAAO;EAACK,CAAC,EAAC;;;EAO1DN,KAAK,EAAC;AAAyC;;EAC7CA,KAAK,EAAC;AAAmB;gCAE5BC,oBAAgG;EAAzFM,GAAG,EAAC,SAAS;EAACP,KAAK,EAAC;GAA6C,kBAAgB;;;;;;;uBA3BlGQ,oBAiCM,OAjCNC,UAiCM,GAhCJC,aAA4DC;IAAhDC,KAAK,EAAEC,YAAK;IAAGC,OAAO,EAAED,cAAO;IAAEb,KAAK,EAAC;kDAEvCa,cAAO,kBAAnBL,oBA6BM,oBA5BJE,aA2BQK;IA3BDf,KAAK,EAAC;EAAM;sBACjB,MAiBM,CAjBNC,oBAiBM,OAjBNe,UAiBM,GAhBJN,aAAmDO;MAAvCC,KAAK,EAAC,kBAAkB;MAAClB,KAAK,EAAC;wBAC3CC,oBAAiI;MAA1HkB,IAAI,EAAC,MAAM;MAACC,EAAE,EAAC,OAAO;MAACC,IAAI,EAAC,OAAO;iEAAUR,YAAK,CAACK,KAAK;MAAElB,KAAK,EAAC,wBAAwB;MAACsB,WAAW,EAAC;mDAAxDT,YAAK,CAACK,KAAK,KAE/DjB,oBAYM,OAZNsB,UAYM,sBAXJf,oBAGMgB,6BAHqCX,YAAK,CAACY,MAAM,GAA7BC,KAAK,EAAEC,KAAK;2BAAtCnB,oBAGM;QAHDR,KAAK,EAAC,MAAM;QAAyC4B,GAAG,EAAEF,KAAK,CAACN;4CAChEM,KAAK,IAAG,GACX,8BAAiLG;QAAnKV,IAAI,EAAEO,KAAK,CAACP,IAAI;QAAGQ,KAAK,EAAEA,KAAK;QAAGP,EAAE,EAAEM,KAAK,CAACN,EAAE;QAAGF,KAAK,EAAEQ,KAAK,CAACR,KAAK;QAAGY,KAAK,EAAEJ,KAAK,CAACI,KAAK;QAAGC,SAAO,EAAEC,CAAC,IAAIC,cAAS,CAACD,CAAC,EAAEL,KAAK;QAAIO,QAAM,YAAErB,kBAAW,CAACa,KAAK,CAACD,MAAM;;oCAG/KxB,oBAKM;MALDD,KAAK,EAAC,mMAAmM;MAAEmC,OAAK,sCAAEtB,eAAQ,CAACA,YAAK,CAACY,MAAM;QAC1OW,UAEM,qCAER,SAIJnC,oBAMM,OANNoC,UAMM,GALJpC,oBAGM,OAHNqC,UAGM,mBAFJrC,oBAA8E;MAAvEkB,IAAI,EAAC,UAAU;MAACC,EAAE,EAAC,SAAS;MAACC,IAAI,EAAC,SAAS;iEAAUR,YAAK,CAAC0B,UAAU;uDAAhB1B,YAAK,CAAC0B,UAAU,KAC5EC,UAAgG,IAElGvC,oBAA0L;MAAlLD,KAAK,EAAC,wIAAwI;MAAEmC,OAAK,yCAAEF,+BAAI;OAAE,cAAY","names":["class","_createElementVNode","xmlns","fill","viewBox","stroke","d","for","_createElementBlock","_hoisted_1","_createVNode","_component_ApiLoader","error","$setup","loading","_component_Block","_hoisted_3","_component_BlockTitle","title","type","id","name","placeholder","_hoisted_4","_Fragment","fields","field","index","key","_component_CreateField","value","onChanges","n","_ctx","onDelete","onClick","_hoisted_5","_hoisted_6","_hoisted_7","is_primary","_hoisted_8"],"sourceRoot":"","sources":["/Users/khaled.el-moussa/Desktop/Projekter/Kal2/frontend/src/views/Edit/Field.vue"],"sourcesContent":["<template>\n  <div class=\"auth-content pb-20\">\n    <ApiLoader :error=\"error\" :loading=\"loading\" class=\"mt-5\" />\n\n    <div v-if=\"!loading\">\n      <Block class=\"mt-5\">\n        <div class=\"p-10\">\n          <BlockTitle title=\"Rediger skabelon\" class=\"mb-5\"/>\n          <input type=\"text\" id=\"title\" name=\"title\" v-model=\"field.title\" class=\"input-field-non-border\" placeholder=\"Navngiv skabelonen\">\n\n          <div class=\"mt-6\">\n            <div class=\"mt-5\" v-for=\"(field, index) in field.fields\" :key=\"field.id\">\n              {{ field }}\n              <CreateField :type=\"field.type\" :index=\"index\" :id=\"field.id\" :title=\"field.title\" :value=\"field.value\" @changes=\"n => setFields(n, index)\" @delete=\"deleteField(field.fields)\"/>\n            </div>\n\n            <div class=\"text-primary-Darker1 tracking-[0.45px] mt-2 ml-[2px] font-inter font-medium text-[13px] inline-flex border-b border-primary-Darker1 items-center cursor-pointer hover-transition hover:opacity-75\" @click=\"addField(field.fields)\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"2\" stroke=\"currentColor\" class=\"w-5 mr-[1px]\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 6v12m6-6H6\" />\n              </svg>\n              Tilføj ny felt\n            </div>\n          </div>\n        </div>\n\n        <div class=\"w-full bg-gray-50 px-10 py-4 rounded-md\">\n          <div class=\"flex items-center\">\n            <input type=\"checkbox\" id=\"primary\" name=\"primary\" v-model=\"field.is_primary\">\n            <label for=\"primary\" class=\"cursor-pointer text-gray-600 mt-[1px] ml-2\"> Sæt som primære</label>\n          </div>\n          <button class=\"bg-primary px-5 py-2 text-white rounded-md text-sm font-medium hover-transition mt-5 hover:bg-primary-Darker active:bg-primary-Darker1\" @click=\"save\">Gem skabelon</button>\n        </div>\n      </Block>\n    </div>\n  </div>\n</template>\n<script setup>\n  import { useRoute } from \"vue-router/dist/vue-router\";\n  import { onMounted, ref } from \"vue\";\n  import axios from \"axios\";\n  import { useRouter } from \"vue-router\";\n  import fieldHandler from \"@/composables/fieldHandler\";\n  const { addField, deleteField } = fieldHandler();\n\n  const route = useRoute();\n  const router = useRouter();\n  const field = ref();\n  const loading = ref(true);\n  const error = ref();\n  const title = ref();\n\n  onMounted(() => {\n    try {\n      axios.get('/field/'+route.params.id, {\n        headers: {\n          'Authorization': 'Bearer '+ localStorage.getItem('token')\n        }\n      }).then((response) => response.data).then((response) => {\n        field.value = response;\n        // Parse json\n        field.value.fields = JSON.parse(field.value.fields);\n        // For v-model to set checked, it need to be true instead of 1\n        if (field.value.is_primary === 1) {\n          field.value.is_primary = true;\n        }\n        loading.value = false;\n      }).catch((response) => {\n        error.value = response;\n      });\n    } catch(e) {\n      error.value = e;\n    }\n  });\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}