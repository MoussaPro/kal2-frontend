{"ast":null,"code":"import Auth from \"@/models/Auth\";\nimport axios from \"axios\";\nexport default ((to, from, next) => {\n  let validated = false;\n  if (!Auth.check()) {\n    return next({\n      name: 'login'\n    });\n  } else {\n    axios.get('validate-token').then(response => {\n      if (response.status === 201) {\n        validated = true;\n      }\n    });\n  }\n  if (!validated) {\n    window.localStorage.removeItem('token');\n    window.localStorage.removeItem('user');\n    next({\n      name: 'login'\n    });\n  }\n});","map":{"version":3,"names":["Auth","axios","to","from","next","validated","check","name","get","then","response","status","window","localStorage","removeItem"],"sources":["/Users/khaled.el-moussa/Desktop/Projekter/Kal2/frontend/src/middleware/auth.js"],"sourcesContent":["import Auth from \"@/models/Auth\";\nimport axios from \"axios\";\n\nexport default (to, from, next) => {\n  let validated = false;\n\n  if (!Auth.check()) {\n    return next({ name: 'login' });\n  } else {\n    axios.get('validate-token').then(response => {\n      if (response.status === 201) {\n        validated = true;\n      }\n    })\n  }\n\n  if (!validated) {\n    window.localStorage.removeItem('token');\n    window.localStorage.removeItem('user');\n    next({ name: 'login' })\n  }\n}"],"mappings":"AAAA,OAAOA,IAAI,MAAM,eAAe;AAChC,OAAOC,KAAK,MAAM,OAAO;AAEzB,gBAAe,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACjC,IAAIC,SAAS,GAAG,KAAK;EAErB,IAAI,CAACL,IAAI,CAACM,KAAK,EAAE,EAAE;IACjB,OAAOF,IAAI,CAAC;MAAEG,IAAI,EAAE;IAAQ,CAAC,CAAC;EAChC,CAAC,MAAM;IACLN,KAAK,CAACO,GAAG,CAAC,gBAAgB,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAI;MAC3C,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;QAC3BN,SAAS,GAAG,IAAI;MAClB;IACF,CAAC,CAAC;EACJ;EAEA,IAAI,CAACA,SAAS,EAAE;IACdO,MAAM,CAACC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IACvCF,MAAM,CAACC,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;IACtCV,IAAI,CAAC;MAAEG,IAAI,EAAE;IAAQ,CAAC,CAAC;EACzB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}