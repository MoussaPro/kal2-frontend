{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineStore } from 'pinia';\nimport router from \"@/router\";\nexport const Auth = defineStore('auth', {\n  state: () => ({\n    // initialize state from local storage to enable user to stay logged in\n    user: JSON.parse(localStorage.getItem('user')),\n    token: localStorage.getItem('token'),\n    returnUrl: null\n  }),\n  actions: {\n    login(token, user) {\n      window.localStorage.setItem('token', token);\n      window.localStorage.setItem('user', JSON.stringify(user));\n      this.token = token;\n      this.user = user;\n    },\n    logout() {\n      window.localStorage.removeItem('token');\n      window.localStorage.removeItem('user');\n      this.user = null;\n      this.token = null;\n      router.push('/login');\n    },\n    check() {\n      return !!this.token;\n    }\n  }\n});","map":{"version":3,"names":["defineStore","router","Auth","state","user","JSON","parse","localStorage","getItem","token","returnUrl","actions","login","window","setItem","stringify","logout","removeItem","push","check"],"sources":["/Users/khaled.el-moussa/Desktop/Projekter/Kal2/frontend/src/store/auth.js"],"sourcesContent":["import { defineStore } from 'pinia';\nimport router from \"@/router\";\n\nexport const Auth = defineStore('auth', {\n  state: () => ({\n    // initialize state from local storage to enable user to stay logged in\n    user: JSON.parse(localStorage.getItem('user')),\n    token: localStorage.getItem('token'),\n    returnUrl: null\n  }),\n  actions: {\n    login(token, user) {\n      window.localStorage.setItem('token', token);\n      window.localStorage.setItem('user', JSON.stringify(user));\n      this.token = token;\n      this.user = user;\n    },\n    logout() {\n      window.localStorage.removeItem('token');\n      window.localStorage.removeItem('user');\n      this.user = null;\n      this.token = null;\n      router.push('/login');\n    },\n    check() {\n      return !!this.token;\n    }\n  }\n});"],"mappings":";AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,OAAOC,MAAM,MAAM,UAAU;AAE7B,OAAO,MAAMC,IAAI,GAAGF,WAAW,CAAC,MAAM,EAAE;EACtCG,KAAK,EAAE,OAAO;IACZ;IACAC,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;IAC9CC,KAAK,EAAEF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IACpCE,SAAS,EAAE;EACb,CAAC,CAAC;EACFC,OAAO,EAAE;IACPC,KAAK,CAACH,KAAK,EAAEL,IAAI,EAAE;MACjBS,MAAM,CAACN,YAAY,CAACO,OAAO,CAAC,OAAO,EAAEL,KAAK,CAAC;MAC3CI,MAAM,CAACN,YAAY,CAACO,OAAO,CAAC,MAAM,EAAET,IAAI,CAACU,SAAS,CAACX,IAAI,CAAC,CAAC;MACzD,IAAI,CAACK,KAAK,GAAGA,KAAK;MAClB,IAAI,CAACL,IAAI,GAAGA,IAAI;IAClB,CAAC;IACDY,MAAM,GAAG;MACPH,MAAM,CAACN,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC;MACvCJ,MAAM,CAACN,YAAY,CAACU,UAAU,CAAC,MAAM,CAAC;MACtC,IAAI,CAACb,IAAI,GAAG,IAAI;MAChB,IAAI,CAACK,KAAK,GAAG,IAAI;MACjBR,MAAM,CAACiB,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IACDC,KAAK,GAAG;MACN,OAAO,CAAC,CAAC,IAAI,CAACV,KAAK;IACrB;EACF;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}